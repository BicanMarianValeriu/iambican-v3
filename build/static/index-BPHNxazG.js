import{r,c as w,d as y,y as u,e as h,j as e,F as m,B as C,f as F}from"./main-DL-_-xzR.js";import{P as v}from"./Intro-XzKEfJwz.js";const S=n=>{const t=r.useRef(null),[s,i]=r.useState(!1),{control:p,handleSubmit:c,reset:l,formState:{errors:x}}=w(n);return r.useEffect(()=>{if(t.current){const b=async d=>{if(s===!0)return;const f=t.current.getAttribute("id"),j=`https://dev.mvbican.com/mvbican/wp-json/contact-form-7/v1/contact-forms/${f.split("wpcf-")[1]}/feedback`,o=new FormData;Object.keys(d).forEach(a=>o.append(a,d[a])),o.append("_wpcf7_unit_tag",f),i(!0);try{const{data:a}=await y.post(j,o);u.success(a.message)}catch(a){const{response:{data:g={}}={}}=a;u.error(g.message)}finally{i(!1),l()}};t.current.onsubmit=c(b)}},[t,c,l,x,s]),{formRef:t,control:p,isLoading:s}};function R(){r.useEffect(()=>window.scrollTo(0,0));const{formRef:n,control:t,isLoading:s}=S({mode:"onChange",resolver:h(F),defaultValues:{fname:"",email:"",mesaj:""}});return e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"text-center",title:"Contact"}),e.jsx("main",{className:"main main--single container my-10 md:py-10",children:e.jsxs("form",{className:"space-y-6 sm:mx-auto sm:w-full sm:max-w-xl",id:"wpcf-6",ref:n,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(m,{type:"text",name:"fname",autoComplete:"family-name",label:"Numele tău",disabled:s,control:t}),e.jsx(m,{type:"email",name:"email",autoComplete:"email",label:"Adresa de email",disabled:s,control:t})]}),e.jsx(m,{type:"textarea",name:"mesaj",label:"Mesaj",rows:3,description:"Ce doresti să-mi transmiți?",disabled:s,control:t}),e.jsx(C,{type:"submit",disabled:s,children:s?"Se trimite...":"Trimite"})]})})]})}export{R as Component,R as default};
