import{r,c as y,d as w,y as u,e as h,j as e,F as m,B as C,f as F}from"./main-DWDtzcjO.js";import{P as S}from"./Intro-CxFAOtre.js";const E=o=>{const t=r.useRef(null),[s,i]=r.useState(!1),{control:p,handleSubmit:c,reset:l,formState:{errors:x}}=y(o);return r.useEffect(()=>{if(t.current){const g=async d=>{if(s===!0)return;const f=t.current.getAttribute("id"),j=`undefinedcontact-form-7/v1/contact-forms/${f.split("wpcf-")[1]}/feedback`,n=new FormData;Object.keys(d).forEach(a=>n.append(a,d[a])),n.append("_wpcf7_unit_tag",f),i(!0);try{const{data:a}=await w.post(j,n);u.success(a.message)}catch(a){const{response:{data:b={}}={}}=a;u.error(b.message)}finally{i(!1),l()}};t.current.onsubmit=c(g)}},[t,c,l,x,s]),{formRef:t,control:p,isLoading:s}};function v(){r.useEffect(()=>window.scrollTo(0,0));const{formRef:o,control:t,isLoading:s}=E({mode:"onChange",resolver:h(F),defaultValues:{fname:"",email:"",mesaj:""}});return e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"text-center",title:"Contact"}),e.jsx("main",{className:"main main--single container my-10 md:py-10",children:e.jsxs("form",{className:"space-y-6 sm:mx-auto sm:w-full sm:max-w-xl",id:"wpcf-6",ref:o,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(m,{type:"text",name:"fname",autoComplete:"family-name",label:"Numele tău",disabled:s,control:t}),e.jsx(m,{type:"email",name:"email",autoComplete:"email",label:"Adresa de email",disabled:s,control:t})]}),e.jsx(m,{type:"textarea",name:"mesaj",label:"Mesaj",rows:3,description:"Ce doresti să-mi transmiți?",disabled:s,control:t}),e.jsx(C,{type:"submit",disabled:s,children:s?"Se trimite...":"Trimite"})]})})]})}export{v as Component,v as default};
